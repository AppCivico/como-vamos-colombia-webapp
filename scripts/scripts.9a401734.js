"use strict";function d3Map(){function a(a){return a&&a.properties?a.properties.NOMBRE_DPT:null}function b(b){var c=a(b);return c?c.length:0}function c(a){return k(b(a))}function d(a){var b,d,e;if(a&&h!==a){var f=m.centroid(a);b=f[0],d=f[1],e=4,h=a}else b=i/2,d=j/2,e=1,h=null;q.selectAll("path").style("fill",function(a){return h&&a===h?"#D5708B":c(a)}),o.transition().duration(750).attr("transform","translate("+i/2+","+j/2+")scale("+e+")translate("+-b+","+-d+")")}function e(b){d3.select(this).style("fill","orange"),g(a(b))}function f(a){q.selectAll("path").style("fill",function(a){return h&&a===h?"#D5708B":c(a)}),p.selectAll("text").transition().style("opacity",0).remove(),r.text("")}function g(a){var b=Math.round(Math.random()*t.length),c=t[b]+", "+s;r.style("font-family",c).text(a)}var h,i=445,j=500,k=d3.scale.linear().domain([1,20]).clamp(!0).range(["#fff","#409A99"]),l=d3.geo.mercator().scale(1500).center([-74,4.5]).translate([i/2,j/2]),m=d3.geo.path().projection(l),n=d3.select("svg").attr("width",i).attr("height",j);n.append("rect").attr("class","background").attr("width",i).attr("height",j).on("click",d);var o=n.append("g"),p=o.append("g").classed("effect-layer",!0),q=o.append("g").classed("map-layer",!0),r=(o.append("text").classed("dummy-text",!0).attr("x",10).attr("y",30).style("opacity",0),o.append("text").classed("big-text",!0).attr("x",20).attr("y",45));d3.json("colombia.geo.json",function(a,g){var h=g.features;k.domain([0,d3.max(h,b)]),q.selectAll("path").data(h).enter().append("path").attr("d",m).attr("vector-effect","non-scaling-stroke").style("fill",c).on("mouseover",e).on("mouseout",f).on("click",d)});var s="'Helvetica Neue', Helvetica, Arial, sans-serif",t=["Open Sans","Josefin Slab","Arvo","Lato","Vollkorn","Abril Fatface","Old StandardTT","Droid+Sans","Lobster","Inconsolata","Montserrat","Playfair Display","Karla","Alegreya","Libre Baskerville","Merriweather","Lora","Archivo Narrow","Neuton","Signika","Questrial","Fjalla One","Bitter","Varela Round"]}angular.module("comoVamosColombiaApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("comoVamosColombiaApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("comoVamosColombiaApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("comoVamosColombiaApp").directive("d3Map",function(){return{template:"<svg></svg>",restrict:"E",link:d3Map}}),angular.module("comoVamosColombiaApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<section class="text-center"> <h1>Visualización ¿Cómo Vamos Colombia?</h1> </section> <section> <p> Pequeña descripción de qué es, qué hace, cómo funciona. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </p> </section> <section> <p class="main-label"> Elige una ciudad: </p> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Bogotá</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Optimismo y bienestar</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>CV5 - Pensando en las ...</option> </select> </div> </section> <section> <p class="main-label"> Compara con otra ciudad: </p> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Ibagué</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Activos de las personas</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>COL1 - Del 1 que es nada...</option> </select> </div> </section> <section class="text-center"> <h1>Nombre del indicador</h1> <img src="images/screen_1.6e7ea17f.png"> </section> <section> <div class="col-xs-12 col-sm-5"> <!-- <img src="images/screen_2.01ec3d84.png"> --> <d3-map></d3-map> </div> <div class="col-xs-12 col-sm-7"> <div class="poll_experience"> <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum </p> <ul> <li><span class="index">1.</span>Muy Mala</li> <li><span class="index">2.</span>Mala</li> <li><span class="index">3.</span>Regular</li> <li><span class="index">4.</span>Buena</li> <li><span class="index">5.</span>Muy buena</li> </ul> </div> <div class="poll_experience"> <p> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum </p> <ul> <li><span class="index">1.</span>Muy Mala</li> <li><span class="index">2.</span>Mala</li> <li><span class="index">3.</span>Regular</li> <li><span class="index">4.</span>Buena</li> <li><span class="index">5.</span>Muy buena</li> </ul> </div> </div> </section>')}]);