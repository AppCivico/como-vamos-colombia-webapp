"use strict";function d3Map(a){function b(a){return a&&a.properties?a.properties.NOMBRE_DPT:null}function c(a){var c=b(a);return c?c.length:0}function d(a){return"#915299"}function e(a){var b,c,e;if(a&&h!==a){var f=o.centroid(a);b=f[0],c=f[1],e=4,h=a}else b=i/2,c=j/2,e=1,h=null;r.selectAll("path").style("fill",function(a){return h&&a===h?"#D5708B":d(a)}),q.transition().duration(750).attr("transform","translate("+i/2+","+j/2+")scale("+e+")translate("+-b+","+-c+")")}function f(a){d3.select(this).style("fill","orange");var c=b(a);k.transition().duration(200).style("opacity",.9),k.html(l(c)).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}function g(a){r.selectAll("path").style("fill",function(a){return h&&a===h?"#D5708B":d(a)}),k.transition().duration(500).style("opacity",0)}var h,i=445,j=500,k=d3.select("body").append("div").attr("id","tooltip"),l=function(a){return"<span>"+a+"</span>"},m=d3.scale.linear().domain([1,20]).clamp(!0).range(["#fff","#409A99"]),n=d3.geo.mercator().scale(1500).center([-74,4.5]).translate([i/2,j/2]),o=d3.geo.path().projection(n),p=d3.select(a).attr("width",i).attr("height",j);p.append("rect").attr("class","background").attr("width",i).attr("height",j).on("click",e);var q=p.append("g"),r=(q.append("g").classed("effect-layer",!0),q.append("g").classed("map-layer",!0));d3.json("colombia.geo.json",function(a,b){var h=b.features;m.domain([0,d3.max(h,c)]),r.selectAll("path").data(h).enter().append("path").attr("d",o).attr("vector-effect","non-scaling-stroke").style("fill",d).on("mouseover",f).on("mouseout",g).on("click",e)})}angular.module("comoVamosColombiaApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","nvd3"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("comoVamosColombiaApp").controller("MainCtrl",function(){function a(){for(var a=[],b=[],c=0;100>c;c++)a.push({x:c,y:10*c}),b.push({x:c,y:c});return[{values:a,key:"Variable 1",color:"#ff7f0e"},{values:b,key:"Variable 2",color:"#2ca02c"}]}var b=this;b.options={chart:{type:"lineChart",height:450,margin:{top:20,right:20,bottom:40,left:55},x:function(a){return a.x},y:function(a){return a.y},useInteractiveGuideline:!0,dispatch:{stateChange:function(a){console.log("stateChange")},changeState:function(a){console.log("changeState")},tooltipShow:function(a){console.log("tooltipShow")},tooltipHide:function(a){console.log("tooltipHide")}},xAxis:{axisLabel:"Años"},yAxis:{tickFormat:function(a){return d3.format(".02f")(a)},axisLabelDistance:30},callback:function(a){console.log("!!! lineChart callback !!!")}},title:{},subtitle:{},caption:{}},b.data=a()}),angular.module("comoVamosColombiaApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("comoVamosColombiaApp").directive("d3Map",function(){return{template:"<svg></svg>",restrict:"E",link:function(a,b,c){d3Map(b[0].firstChild)}}}),angular.module("comoVamosColombiaApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<section class="text-center"> <h1>Visualización ¿Cómo Vamos Colombia?</h1> </section> <section> <p> Pequeña descripción de qué es, qué hace, cómo funciona. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </p> </section> <section> <p class="main-label"> Elige una ciudad: </p> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Bogotá</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Optimismo y bienestar</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>CV5 - Pensando en las ...</option> </select> </div> </section> <section> <p class="main-label"> Compara con otra ciudad: </p> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Ibagué</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>Activos de las personas</option> </select> </div> <div class="col-xs-12 col-sm-4"> <select class="form-control" name="" value="1"> <option>COL1 - Del 1 que es nada...</option> </select> </div> </section> <section class="text-center"> <h1>Nombre del indicador</h1> <!-- <img src="images/screen_1.6e7ea17f.png"> --> <nvd3 options="main.options" data="main.data" class="with-3d-shadow with-transitions"></nvd3> </section> <section> <div class="row"> <div class="col-xs-12 col-sm-6"> <h3>Variable 1</h3> <d3-map></d3-map> </div> <div class="col-xs-12 col-sm-6"> <h3>Variable 2</h3> <d3-map></d3-map> </div> </div> </section> <section> <div class="row"> <div class="col-xs-12 col-sm-6"> <div class="poll_experience"> <p> <strong>Some variable description.</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p> </div> </div> <div class="col-xs-12 col-sm-6"> <div class="poll_experience"> <p> <strong>Some poll description.</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p> <ul> <li><span class="index">1.</span>Muy Mala</li> <li><span class="index">2.</span>Mala</li> <li><span class="index">3.</span>Regular</li> <li><span class="index">4.</span>Buena</li> <li><span class="index">5.</span>Muy buena</li> </ul> </div> </div> </div> </section>')}]);